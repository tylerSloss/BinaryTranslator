#include "pch.h"
#include "CppUnitTest.h"
#include "../BinaryTranslator/BinaryTranslator.h"

using namespace Microsoft::VisualStudio::CppUnitTestFramework;

namespace MSTest {
	TEST_CLASS(MSTest) {
	public:
		BinaryTranslator test;
		string expected, input;

		TEST_METHOD(TxtToBin) {
			expected = "010010000110010101101100011011000110111100100000010101110110111101110010011011000110010000100001";
			Assert::AreEqual(expected, test.TextToBinary("Hello World!"));

			expected = "01010100011010000110010100100000011100010111010101101001011000110110101100100000011000100111001001101111011101110110111000100000011001100110111101111000001000000110101001110101011011010111000001110011001000000110111101110110011001010111001000100000011101000110100001100101001000000110110001100001011110100111100100100000011001000110111101100111";
			Assert::AreEqual(expected, test.TextToBinary("The quick brown fox jumps over the lazy dog"));
		}

		TEST_METHOD(HexToTxt) {
			expected = "48656c6c6f20576f726c6421";
			Assert::AreEqual(expected, test.HexToText("Hello World!"));

			expected = "54686520717569636b2062726f776e20666f78206a756d7073206f76657220746865206c617a7920646f67";
			Assert::AreEqual(expected, test.HexToText("The quick brown fox jumps over the lazy dog"));
		}

		TEST_METHOD(BinToTxt) {
			input = "010010000110010101101100011011000110111100100000010101110110111101110010011011000110010000100001";
			Assert::AreEqual(string("Hello World!"), test.BinaryToText(input));

			input = "01010100011010000110010100100000011100010111010101101001011000110110101100100000011000100111001001101111011101110110111000100000011001100110111101111000001000000110101001110101011011010111000001110011001000000110111101110110011001010111001000100000011101000110100001100101001000000110110001100001011110100111100100100000011001000110111101100111";
			Assert::AreEqual(string("The quick brown fox jumps over the lazy dog"), test.BinaryToText(input));
		}

		TEST_METHOD(TxtToHex) {
			string input = "48656c6c6f20576f726c6421";
			Assert::AreEqual(string("Hello World!"), test.HexToText(input));

			input = "54686520717569636b2062726f776e20666f78206a756d7073206f76657220746865206c617a7920646f67";
			Assert::AreEqual(string("The quick brown fox jumps over the lazy dog"), test.HexToText(input));
		}
	};
}
